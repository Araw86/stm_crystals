(this.webpackJsonpstm_crystals=this.webpackJsonpstm_crystals||[]).push([[0],{45:function(e){e.exports=JSON.parse('{"dbList":{"gmTypes":{"type":"list","elements":[{"elementUID":1,"elementName":"Low","elementType":"value","elementValue":1,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":2,"elementName":"Medium Low","elementType":"value","elementValue":1.6,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":3,"elementName":"Medium High","elementType":"value","elementValue":3,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":4,"elementName":"High","elementType":"value","elementValue":5,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":5,"elementName":"Normal","elementType":"value","elementValue":1,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":6,"elementName":"Normal","elementType":"value","elementValue":0.56,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0},{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":7,"elementName":"Low","elementType":"value","elementValue":0.56,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":8,"elementName":"High","elementType":"value","elementValue":1.5,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":3}]},{"elementUID":9,"elementName":"Low","elementType":"value","elementValue":0.5,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":10,"elementName":"Medium Low","elementType":"value","elementValue":0.75,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":11,"elementName":"Medium High","elementType":"value","elementValue":1.7,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":12,"elementName":"High","elementType":"value","elementValue":2.7,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":13,"elementName":"Normal","elementType":"value","elementValue":0.6,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":14,"elementName":"Low","elementType":"value","elementValue":0.48,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]}]},"gmFamilyList":{"type":"list","elements":[{"elementUID":1,"elementName":"F0 & F3","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":1},{"listName":"gmTypes","elementUID":2},{"listName":"gmTypes","elementUID":3},{"listName":"gmTypes","elementUID":4}]},{"elementUID":2,"elementName":"F1","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":5}]},{"elementUID":3,"elementName":"F2xx","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":6}]},{"elementUID":4,"elementName":"F401/F40x/F415/F417/F42x","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":6}]},{"elementUID":5,"elementName":"F410/F411/F412/F413/F446/Fx9","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":7},{"listName":"gmTypes","elementUID":8}]},{"elementUID":6,"elementName":"L0 & L4","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":9},{"listName":"gmTypes","elementUID":10},{"listName":"gmTypes","elementUID":11},{"listName":"gmTypes","elementUID":12}]},{"elementUID":7,"elementName":"L1","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":13}]},{"elementUID":8,"elementName":"F7 & H7","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":14},{"listName":"gmTypes","elementUID":10},{"listName":"gmTypes","elementUID":11},{"listName":"gmTypes","elementUID":12}]}]}}}')},69:function(e,t,a){e.exports=a(79)},74:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),m=a(6),r=a.n(m),c=(a(74),a(56)),i=a(123),s=a(54),u=a.n(s),o=a(55),d=a.n(o),p=a(13),h=a(14),g=a(17),y=a(15),b=a(28),E=a(18),f=a(121),v=a(122),N=a(36),I=a(126),D=a(31),U=a(107),T=a(109),C=a(110),F=a(111),L=a(128),S=a(112),O=a(113),j=a(129),w=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).handleChange=function(e){return function(t){var l=Number(t.target.value);if(!isNaN(l)){var n,m=Number(l.toFixed(2));a.setState((n={},Object(D.a)(n,e,m),Object(D.a)(n,e+"String",t.target.value),n),(function(){a.calculateGM()})),"cl"===e&&a.props.updateState({cl:m})}}},a.state={c0:0,c0String:"",cl:0,clString:"",esr:0,esrString:"",gmcrit:0,f:32768},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"calculateGM",value:function(){var e=this.state,t=e.c0,a=e.cl,l=e.esr,n=e.f,m=4*l*1e3*Math.pow(2*Math.PI*n,2)*Math.pow(1e-12*(a+t),2)*1e6;m=Number(m.toFixed(4)),this.setState({gmcrit:m}),this.props.updateState({gmcrit:m})}},{key:"render",value:function(){return n.a.createElement(I.a,{m:1},n.a.createElement(U.a,null,n.a.createElement(T.a,{title:"LSE crystal parameters"}),n.a.createElement(C.a,null,n.a.createElement(N.a,{type:"p"},"Please fill the Loading capacitance of cystal and C",n.a.createElement("sub",null,"0")," ","capacitance. This values are written in the Datasheet to related crystall. Values will be used to calculate compatybility with STM32 device"),n.a.createElement("br",null),n.a.createElement(F.a,null,n.a.createElement(L.a,{htmlFor:"standard-c0-helper-text"},"C",n.a.createElement("sub",null,"0")," capacitance"),n.a.createElement(S.a,{id:"standard-adornment-c0",endAdornment:n.a.createElement(O.a,{position:"end"},"pF"),"aria-describedby":"standard-c0-helper-text",inputProps:{"aria-label":"C0 capacitance"},onChange:this.handleChange("c0"),value:this.state.c0String})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(F.a,null,n.a.createElement(L.a,{htmlFor:"standard-cl-helper-text"},"C",n.a.createElement("sub",null,"L")," capacitance"),n.a.createElement(S.a,{id:"standard-adornment-cl",endAdornment:n.a.createElement(O.a,{position:"end"},"pF"),"aria-describedby":"standard-cl-helper-text",inputProps:{"aria-label":"Cl capacitance"},onChange:this.handleChange("cl"),value:this.state.clString})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(F.a,null,n.a.createElement(L.a,{htmlFor:"standard-esr-helper-text"},"ESR"),n.a.createElement(S.a,{id:"standard-adornment-esr",endAdornment:n.a.createElement(O.a,{position:"end"},"k\u03a9"),"aria-describedby":"standard-esr-helper-text",inputProps:{"aria-label":"ESR"},onChange:this.handleChange("esr"),value:this.state.esrString})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(j.a,{label:n.a.createElement(l.Fragment,null,"g",n.a.createElement("sub",null,"mcrit")),id:"standard-adornment-gmcrit",InputProps:{endAdornment:n.a.createElement(O.a,{position:"end"},"\u03bcA/V"),readOnly:!0},value:this.state.gmcrit,variant:"outlined"}))))}}]),t}(l.Component),k=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).handleChange=function(e){return function(t){var l=Number(t.target.value);if(!isNaN(l)){var n,m=Number(l.toFixed(2));a.setState((n={},Object(D.a)(n,e,m),Object(D.a)(n,e+"String",t.target.value),n),(function(){a.calculateCl12()}))}}},a.state={cl:e.cl,cl12:0,cs:0,csString:"0"},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"calculateCl12",value:function(){var e=this.state.cs,t=2*(this.props.cl-e);t!==this.state.cl12&&this.setState({cl12:t})}},{key:"componentDidUpdate",value:function(e,t){e.cl!==this.props.cl&&this.calculateCl12()}},{key:"render",value:function(){return n.a.createElement(I.a,{m:1},n.a.createElement(U.a,null,n.a.createElement(T.a,{title:"LSE Load capacitance",subheader:"sub header test"}),n.a.createElement(C.a,null,n.a.createElement(N.a,{type:"p"},"This part is calculating the Load capacitance C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2")," which must be added toi your crystal. For this calculation is used Crystal load capacitance C",n.a.createElement("sub",null,"L")," and stray capacitance C",n.a.createElement("sub",null,"s"),"."),n.a.createElement(N.a,null,"The stray capacitance is based on the PCB capacitance, STM32 capacitance and soldering capacitance. So the value is only estimation. Best aproach is to use C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2")," ","calculated value. Measure the LSE frequency over MCO. And then compensate the offset by changing C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2"),"."),n.a.createElement("br",null),n.a.createElement(F.a,null,n.a.createElement(L.a,{htmlFor:"standard-Cs-helper-text"},"C",n.a.createElement("sub",null,"s")),n.a.createElement(S.a,{id:"standard-adornment-cs",endAdornment:n.a.createElement(O.a,{position:"end"},"pF"),"aria-describedby":"standard-cs-helper-text",inputProps:{"aria-label":"CS"},onChange:this.handleChange("cs"),value:this.state.csString})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(j.a,{label:n.a.createElement(l.Fragment,null,"C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2")),id:"standard-adornment-cl12",InputProps:{endAdornment:n.a.createElement(O.a,{position:"end"},"pF"),readOnly:!0},value:this.state.cl12,variant:"outlined"}))))}}]),t}(l.Component),R=a(127),V=a(124),x=a(45),B=a(120),M=a(44),A=a(115),P=a(116),_=a(4),H=a(117),J=a(118),W=a(119),G=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){console.log(this.props);var e,t,a,l,m,r=this.props.classes,c=this.props.gmCompare<this.props.gmValueObj.elementValue;return e=n.a.createElement(N.a,null,n.a.createElement("b",null,this.props.gmValueObj.elementName," gm",n.a.createElement("sub",null,"crit max"),"=",this.props.gmValueObj.elementValue)),this.props.gmValueObj.elementValue>3?(t=n.a.createElement(N.a,null,"This value have too big gain margin and not work with crystals."," ",n.a.createElement("b",null,"It is set by default")," be sure that you are using smaller Drive Mode."),m=r.yellow_bg,a=r.yellow,l=n.a.createElement(H.a,null)):c?(t=n.a.createElement(N.a,null,"LSE gm",n.a.createElement("sub",null,"crit")," < STM32 gm",n.a.createElement("sub",null,"critmax")),m=r.green_bg,a=r.green,l=n.a.createElement(J.a,null)):(t=n.a.createElement(N.a,null,"LSE gm",n.a.createElement("sub",null,"crit")," >= STM32 gm",n.a.createElement("sub",null,"critmax")),m=r.red_bg,a=r.red,l=n.a.createElement(W.a,null)),n.a.createElement(I.a,{m:1},n.a.createElement(U.a,{className:m},n.a.createElement(T.a,{avatar:n.a.createElement(B.a,{"aria-label":"recipe",className:a},l),title:e,subheader:t})))}}]),t}(l.Component),q=Object(_.a)((function(e){return{red:{color:"#fff",backgroundColor:M.a[500]},red_bg:{backgroundColor:M.a[50]},green:{color:"#fff",backgroundColor:A.a[500]},green_bg:{backgroundColor:A.a[50]},yellow:{color:"#000",backgroundColor:P.a[500]},yellow_bg:{backgroundColor:P.a[50]}}}))(G);var $=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={deviceSelected:""},a.handleSelect=a.handleSelect.bind(Object(b.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleSelect",value:function(e){this.setState({deviceSelected:e.target.value})}},{key:"render",value:function(){var e=this,t=x.dbList.gmFamilyList.elements,a=[];a.push(n.a.createElement(R.a,{key:"none",value:""},n.a.createElement("em",null,"None"))),0===t.length?console.log("Check the jsoin surce no devices to show"):t.forEach((function(e){a.push(n.a.createElement(R.a,{key:e.elementUID,value:e.elementUID},e.elementName))}));var l=[];if(""!==this.state.deviceSelected){var m=function(e,t,a){var l=e[t].elements.filter((function(e){return e.elementUID===a}));return l.length>1||0===l.length?-1:l[0]}(x.dbList,"gmFamilyList",this.state.deviceSelected);console.log(m),function(e,t,a){var l=t.elementRefferedTo.filter((function(e){return e.listName===a}));return 0===l.length?-1:e[a].elements.filter((function(e){return void 0!==l.find((function(t){return t.elementUID===e.elementUID}))}))}(x.dbList,m,"gmTypes").forEach((function(t){l.push(n.a.createElement(q,{key:t.elementUID,gmValueObj:t,gmCompare:e.props.gmcrit}))}))}return n.a.createElement(I.a,{m:1},n.a.createElement(U.a,null,n.a.createElement(T.a,{title:"Check if STM32 can work with crystal"}),n.a.createElement(C.a,null,n.a.createElement(F.a,{style:{minWidth:240}},n.a.createElement(L.a,{id:"simple-select-device-label"},"Select Device Family"),n.a.createElement(V.a,{labelId:"simple-select-device-label",id:"simple-select-device",value:this.state.deviceSelected,onChange:this.handleSelect},a)),n.a.createElement(I.a,{m:1},l))))}}]),t}(l.Component),z=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={cl:0,gmcrit:0},a.updateState=a.updateState.bind(Object(b.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"updateState",value:function(e){this.setState(e)}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement(f.a,{position:"static"},n.a.createElement(v.a,null,n.a.createElement(N.a,{variant:"h6"},"STM Crystal calculation")))),n.a.createElement(I.a,null,n.a.createElement(w,{updateState:this.updateState})),n.a.createElement(I.a,null,n.a.createElement($,{gmcrit:this.state.gmcrit})),n.a.createElement(I.a,null,n.a.createElement(k,{cl:this.state.cl})))}}]),t}(l.Component),K=Object(c.a)({palette:{primary:u.a,secondary:d.a}});var Q=function(){return n.a.createElement(i.a,{theme:K},n.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[69,1,2]]]);
//# sourceMappingURL=main.6dfa0e85.chunk.js.map