(this.webpackJsonpstm_crystals=this.webpackJsonpstm_crystals||[]).push([[0],{45:function(e){e.exports=JSON.parse('{"dbList":{"gmTypes":{"type":"list","elements":[{"elementUID":1,"elementName":"Low","elementType":"value","elementValue":1,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":2,"elementName":"Medium Low","elementType":"value","elementValue":1.6,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":3,"elementName":"Medium High","elementType":"value","elementValue":3,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":4,"elementName":"High","elementType":"value","elementValue":5,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":5,"elementName":"Normal","elementType":"value","elementValue":1,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":6,"elementName":"Normal","elementType":"value","elementValue":0.56,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0},{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":7,"elementName":"Low","elementType":"value","elementValue":0.56,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":8,"elementName":"High","elementType":"value","elementValue":1.5,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":3}]},{"elementUID":9,"elementName":"Low","elementType":"value","elementValue":0.5,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":10,"elementName":"Medium Low","elementType":"value","elementValue":0.75,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":11,"elementName":"Medium High","elementType":"value","elementValue":1.7,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":12,"elementName":"High","elementType":"value","elementValue":2.7,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":13,"elementName":"Normal","elementType":"value","elementValue":0.6,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]},{"elementUID":14,"elementName":"Low","elementType":"value","elementValue":0.48,"elementRefferedBy":[{"listName":"gmFamilyList","elementUID":0}]}]},"gmFamilyList":{"type":"list","elements":[{"elementUID":1,"elementName":"F0 & F3","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":1},{"listName":"gmTypes","elementUID":2},{"listName":"gmTypes","elementUID":3},{"listName":"gmTypes","elementUID":4}]},{"elementUID":2,"elementName":"F1","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":5}]},{"elementUID":3,"elementName":"F2xx","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":6}]},{"elementUID":4,"elementName":"F401/F40x/F415/F417/F42x","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":6}]},{"elementUID":5,"elementName":"F410/F411/F412/F413/F446/Fx9","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":7},{"listName":"gmTypes","elementUID":8}]},{"elementUID":6,"elementName":"L0 & L4","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":9},{"listName":"gmTypes","elementUID":10},{"listName":"gmTypes","elementUID":11},{"listName":"gmTypes","elementUID":12}]},{"elementUID":7,"elementName":"L1","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":13}]},{"elementUID":8,"elementName":"F7 & H7","elementType":null,"elementRefferedTo":[{"listName":"gmTypes","elementUID":14},{"listName":"gmTypes","elementUID":10},{"listName":"gmTypes","elementUID":11},{"listName":"gmTypes","elementUID":12}]}]}}}')},71:function(e,t,a){e.exports=a(81)},76:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),m=a(6),r=a.n(m),c=(a(76),a(57)),i=a(126),s=a(55),u=a.n(s),o=a(56),d=a.n(o),p=a(10),h=a(11),b=a(13),E=a(12),y=a(14),f=a(124),g=a(125),v=a(37),N=a(31),I=a(129),T=a(107),D=a(109),C=a(22),U=a(110),S=a(111),O=a(131),L=a(112),F=a(113),j=a(132),w=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){var l=Number(t.target.value);if(!isNaN(l)){var n,m=Number(l.toFixed(2));a.setState((n={},Object(C.a)(n,e,m),Object(C.a)(n,e+"String",t.target.value),n),(function(){a.calculateGM()})),"cl"===e&&a.props.updateState({cl:m})}}},a.state={c0:0,c0String:"",cl:0,clString:"",esr:0,esrString:"",gmcrit:0,f:32768},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"calculateGM",value:function(){var e=this.state,t=e.c0,a=e.cl,l=e.esr,n=e.f,m=4*l*1e3*Math.pow(2*Math.PI*n,2)*Math.pow(1e-12*(a+t),2)*1e6;m=Number(m.toFixed(4)),this.setState({gmcrit:m}),this.props.updateState({gmcrit:m})}},{key:"render",value:function(){return n.a.createElement(I.a,{m:1},n.a.createElement(T.a,null,n.a.createElement(D.a,{title:"LSE crystal parameters"}),n.a.createElement(U.a,null,n.a.createElement(v.a,{type:"p"},"Please fill the Loading capacitance of cystal and C",n.a.createElement("sub",null,"0")," ","capacitance. This values are written in the Datasheet to related crystall. Values will be used to calculate compatybility with STM32 device"),n.a.createElement("br",null),n.a.createElement(S.a,null,n.a.createElement(O.a,{htmlFor:"standard-c0-helper-text"},"C",n.a.createElement("sub",null,"0")," capacitance"),n.a.createElement(L.a,{id:"standard-adornment-c0",endAdornment:n.a.createElement(F.a,{position:"end"},"pF"),"aria-describedby":"standard-c0-helper-text",inputProps:{"aria-label":"C0 capacitance"},onChange:this.handleChange("c0"),value:this.state.c0String})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(S.a,null,n.a.createElement(O.a,{htmlFor:"standard-cl-helper-text"},"C",n.a.createElement("sub",null,"L")," capacitance"),n.a.createElement(L.a,{id:"standard-adornment-cl",endAdornment:n.a.createElement(F.a,{position:"end"},"pF"),"aria-describedby":"standard-cl-helper-text",inputProps:{"aria-label":"Cl capacitance"},onChange:this.handleChange("cl"),value:this.state.clString})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(S.a,null,n.a.createElement(O.a,{htmlFor:"standard-esr-helper-text"},"ESR"),n.a.createElement(L.a,{id:"standard-adornment-esr",endAdornment:n.a.createElement(F.a,{position:"end"},"k\u03a9"),"aria-describedby":"standard-esr-helper-text",inputProps:{"aria-label":"ESR"},onChange:this.handleChange("esr"),value:this.state.esrString})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(j.a,{label:n.a.createElement(l.Fragment,null,"g",n.a.createElement("sub",null,"mcrit")),id:"standard-adornment-gmcrit",InputProps:{endAdornment:n.a.createElement(F.a,{position:"end"},"\u03bcA/V"),readOnly:!0},value:this.state.gmcrit,variant:"outlined"}))))}}]),t}(l.Component),k=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){var l=Number(t.target.value);if(!isNaN(l)){var n,m=Number(l.toFixed(2));a.setState((n={},Object(C.a)(n,e,m),Object(C.a)(n,e+"String",t.target.value),n),(function(){a.calculateCl12()}))}}},a.state={cl:e.cl,cl12:0,cs:0,csString:"0"},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"calculateCl12",value:function(){var e=this.state.cs,t=2*(this.props.cl-e);t!==this.state.cl12&&this.setState({cl12:t})}},{key:"componentDidUpdate",value:function(e,t){e.cl!==this.props.cl&&this.calculateCl12()}},{key:"render",value:function(){return n.a.createElement(I.a,{m:1},n.a.createElement(T.a,null,n.a.createElement(D.a,{title:"LSE Load capacitance"}),n.a.createElement(U.a,null,n.a.createElement(v.a,{type:"p"},"This part is calculating the Load capacitance C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2")," which must be added toi your crystal. For this calculation is used Crystal load capacitance C",n.a.createElement("sub",null,"L")," and stray capacitance C",n.a.createElement("sub",null,"s"),"."),n.a.createElement(v.a,null,"The stray capacitance is based on the PCB capacitance, STM32 capacitance and soldering capacitance. So the value is only estimation. Best aproach is to use C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2")," ","calculated value. Measure the LSE frequency over MCO and then compensate the offset by changing C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2"),"."),n.a.createElement("br",null),n.a.createElement(S.a,null,n.a.createElement(O.a,{htmlFor:"standard-Cs-helper-text"},"C",n.a.createElement("sub",null,"s")),n.a.createElement(L.a,{id:"standard-adornment-cs",endAdornment:n.a.createElement(F.a,{position:"end"},"pF"),"aria-describedby":"standard-cs-helper-text",inputProps:{"aria-label":"CS"},onChange:this.handleChange("cs"),value:this.state.csString})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(j.a,{label:n.a.createElement(l.Fragment,null,"C",n.a.createElement("sub",null,"L1")," & C",n.a.createElement("sub",null,"L2")),id:"standard-adornment-cl12",InputProps:{endAdornment:n.a.createElement(F.a,{position:"end"},"pF"),readOnly:!0},value:this.state.cl12,variant:"outlined"}))))}}]),t}(l.Component),x=a(130),R=a(127),V=a(45),M=a(120),B=a(44),A=a(115),P=a(116),H=a(4),_=a(117),q=a(118),W=a(119),J=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t,a,l,m,r=this.props.classes,c=this.props.gmCompare<this.props.gmValueObj.elementValue;return e=n.a.createElement(v.a,null,n.a.createElement("b",null,this.props.gmValueObj.elementName," gm",n.a.createElement("sub",null,"crit max"),"=",this.props.gmValueObj.elementValue)),this.props.gmValueObj.elementValue>3?(t=n.a.createElement(v.a,null,"This value have too big gain margin and not work with crystals."," ",n.a.createElement("b",null,"It is set by default")," be sure that you are using smaller Drive Mode. Use this mode only if will be only one possible"),m=r.yellow_bg,a=r.yellow,l=n.a.createElement(_.a,null)):c?(t=n.a.createElement(v.a,null,"LSE gm",n.a.createElement("sub",null,"crit")," < STM32 gm",n.a.createElement("sub",null,"critmax")),m=r.green_bg,a=r.green,l=n.a.createElement(q.a,null)):(t=n.a.createElement(v.a,null,"LSE gm",n.a.createElement("sub",null,"crit")," >= STM32 gm",n.a.createElement("sub",null,"critmax")),m=r.red_bg,a=r.red,l=n.a.createElement(W.a,null)),n.a.createElement(I.a,{m:1},n.a.createElement(T.a,{className:m},n.a.createElement(D.a,{avatar:n.a.createElement(M.a,{"aria-label":"recipe",className:a},l),title:e,subheader:t})))}}]),t}(l.Component),z=Object(H.a)((function(e){return{red:{color:"#fff",backgroundColor:B.a[500]},red_bg:{backgroundColor:B.a[50]},green:{color:"#fff",backgroundColor:A.a[500]},green_bg:{backgroundColor:A.a[50]},yellow:{color:"#000",backgroundColor:P.a[500]},yellow_bg:{backgroundColor:P.a[50]}}}))(J);var G=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={deviceSelected:""},a.handleSelect=a.handleSelect.bind(Object(N.a)(a)),a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"handleSelect",value:function(e){this.setState({deviceSelected:e.target.value})}},{key:"render",value:function(){var e=this,t=V.dbList.gmFamilyList.elements,a=[];a.push(n.a.createElement(x.a,{key:"none",value:""},n.a.createElement("em",null,"None"))),0===t.length?console.log("Check the jsoin surce no devices to show"):t.forEach((function(e){a.push(n.a.createElement(x.a,{key:e.elementUID,value:e.elementUID},e.elementName))}));var l=[];if(""!==this.state.deviceSelected){var m=function(e,t,a){var l=e[t].elements.filter((function(e){return e.elementUID===a}));return l.length>1||0===l.length?-1:l[0]}(V.dbList,"gmFamilyList",this.state.deviceSelected);(function(e,t,a){var l=t.elementRefferedTo.filter((function(e){return e.listName===a}));return 0===l.length?-1:e[a].elements.filter((function(e){return void 0!==l.find((function(t){return t.elementUID===e.elementUID}))}))})(V.dbList,m,"gmTypes").forEach((function(t){l.push(n.a.createElement(z,{key:t.elementUID,gmValueObj:t,gmCompare:e.props.gmcrit}))}))}return n.a.createElement(I.a,{m:1},n.a.createElement(T.a,null,n.a.createElement(D.a,{title:"Check if STM32 can work with crystal"}),n.a.createElement(U.a,null,n.a.createElement(I.a,{m:1},n.a.createElement(v.a,{type:"p"},"Allow to controll if STM32 can work with selected crystal. We are comparing crystal gm",n.a.createElement("sub",null,"crit"),"=",this.props.gmcrit,"uA/V with STM32 gm",n.a.createElement("sub",null,"crit max"),". This value is taken from STM32 datasheet or AN2867.")),n.a.createElement(S.a,{style:{minWidth:240}},n.a.createElement(O.a,{id:"simple-select-device-label"},"Select Device Family"),n.a.createElement(R.a,{labelId:"simple-select-device-label",id:"simple-select-device",value:this.state.deviceSelected,onChange:this.handleSelect},a)),n.a.createElement(I.a,{m:1},l))))}}]),t}(l.Component),$=a(121),K=a(122),Q=a(123),X=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){var l=Number(t.target.value);if(!isNaN(l)){var n,m=Number(l.toFixed(2));a.setState((n={},Object(C.a)(n,e,m),Object(C.a)(n,e+"String",t.target.value),n),(function(){a.calculatePpm()}))}}},a.state={ppm:0,ppmString:"",fmeas:0,fmeasString:""},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"calculatePpm",value:function(){var e=1e7*(this.state.fmeas/this.props.fnom-1);this.setState({ppm:e})}},{key:"render",value:function(){var e,t,a;return console.log(this),this.state.ppm>0?(t=n.a.createElement(K.a,null),a=n.a.createElement(v.a,null,"To finetune frequency you can sligthly ",n.a.createElement("b",null,"increase")," C",n.a.createElement("sub",null,"L1")," ","& C",n.a.createElement("sub",null,"L2"),"value")):this.state.ppm<0&&(t=n.a.createElement(Q.a,null),a=n.a.createElement(v.a,null,"To finetune frequency you can sligthly ",n.a.createElement("b",null,"decrease")," C",n.a.createElement("sub",null,"L1")," ","& C",n.a.createElement("sub",null,"L2"),"value")),0!==this.state.ppm&&(e=n.a.createElement(I.a,{m:1},n.a.createElement(T.a,null,n.a.createElement(D.a,{avatar:n.a.createElement(M.a,{"aria-label":"recipe",className:this.props.classes.blue},t),title:a})))),n.a.createElement(I.a,{m:1},n.a.createElement(T.a,null,n.a.createElement(D.a,{title:"Calculate ppm"}),n.a.createElement(U.a,null,n.a.createElement(v.a,{type:"p"},"To calculate ppm we must measure f",n.a.createElement("sub",null,"meas")," created by crystal. Best is to use MCO output."),n.a.createElement(v.a,{type:"p"},"If measuring the LSE do not use PC13 the LSE is so sensitive that this close output will affect its freqeuncy."),n.a.createElement("br",null),n.a.createElement(S.a,null,n.a.createElement(O.a,{htmlFor:"standard-fmeas-helper-text"},"f",n.a.createElement("sub",null,"meas")),n.a.createElement(L.a,{id:"standard-adornment-fmin",endAdornment:n.a.createElement(F.a,{position:"end"},"Hz"),"aria-describedby":"standard-fmeas-helper-text",inputProps:{"aria-label":"fmeas"},onChange:this.handleChange("fmeas"),value:this.state.csString})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(j.a,{label:n.a.createElement(l.Fragment,null,"ppm"),id:"standard-adornment-ppm",InputProps:{endAdornment:n.a.createElement(F.a,{position:"end"},"ppm"),readOnly:!0},value:this.state.ppm,variant:"outlined"}),e)))}}]),t}(l.Component),Y=Object(H.a)((function(e){return{blue:{color:"#fff",backgroundColor:$.a[500]}}}))(X),Z=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={cl:0,gmcrit:0},a.updateState=a.updateState.bind(Object(N.a)(a)),a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"updateState",value:function(e){this.setState(e)}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(I.a,{m:1},n.a.createElement(T.a,null,n.a.createElement(D.a,{title:n.a.createElement(v.a,{variant:"h5"},"Help select LSE (32.768kHz) crystall which will work with STM32")}))),n.a.createElement(I.a,null,n.a.createElement(w,{updateState:this.updateState})),n.a.createElement(I.a,null,n.a.createElement(G,{gmcrit:this.state.gmcrit})),n.a.createElement(I.a,null,n.a.createElement(k,{cl:this.state.cl})),n.a.createElement(I.a,null,n.a.createElement(Y,{fnom:32768})))}}]),t}(l.Component),ee=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement(l.Fragment,null,n.a.createElement("header",{className:"App-header"},n.a.createElement(f.a,{position:"static"},n.a.createElement(g.a,null,n.a.createElement(v.a,{variant:"h6"},"STM Crystal calculation")))),n.a.createElement(Z,null))}}]),t}(l.Component),te=Object(c.a)({palette:{primary:u.a,secondary:d.a}});var ae=function(){return n.a.createElement(i.a,{theme:te},n.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[71,1,2]]]);
//# sourceMappingURL=main.c0494eab.chunk.js.map